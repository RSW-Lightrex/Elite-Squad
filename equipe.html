<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Équipe RSW - Statistiques joueurs</title>
    <style>
        body {
            background-color: #000;
            color: #fff;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 1200px;
            margin: 40px auto;
            padding: 20px;
            text-align: center;
        }
        h1 {
            color: #ff0000;
            text-shadow:
                0 0 5px #ff0000,
                0 0 10px #ff0000,
                0 0 20px #ff0000;
            margin-bottom: 40px;
        }
        .game-columns-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 30px;
            margin-top: 30px;
        }
        .game-column {
            background-color: #0a0000;
            border: 2px solid #ff0000;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 0 15px #ff0000;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .game-column h2 {
            color: #ff4444;
            text-shadow: 0 0 5px #ff0000;
            margin-bottom: 20px;
            font-size: 1.8em;
            font-weight: 700;
        }
        .player-card {
            background-color: #110000;
            border: 2px solid #ff0000;
            border-radius: 15px;
            padding: 15px;
            margin-bottom: 20px;
            box-shadow: 0 0 10px #ff0000;
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 100%;
            max-width: 250px;
            text-align: center;
        }
        .player-card img {
            width: 90px;
            height: 90px;
            border-radius: 50%;
            border: 3px solid #ff0000;
            object-fit: cover;
            margin-bottom: 10px;
        }
        .player-info {
            text-align: center;
            width: 100%;
        }
        .player-info h3 {
            margin: 0 0 5px 0;
            color: #ff4444;
            text-shadow: 0 0 5px #ff0000;
            font-size: 1.2em;
        }
        .player-info p {
            margin: 2px 0;
            font-size: 0.95em;
        }
        .stats-link, .toggle-players-button, .home-button {
            text-decoration: none;
            background-color: #ff0000;
            color: white;
            padding: 8px 18px;
            border-radius: 8px;
            font-weight: 600;
            box-shadow: 0 0 10px #ff0000;
            transition: background-color 0.3s ease;
            margin-top: 15px;
            display: inline-block;
            cursor: pointer;
            border: none;
        }
        .stats-link:hover, .toggle-players-button:hover, .home-button:hover {
            background-color: #cc0000;
        }
        .hidden {
            display: none;
        }
        .more-players-container {
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .home-button-container {
            margin-top: 40px;
            text-align: center;
        }
    </style>
</head>
<body>
    <h1>Équipe RSW - Statistiques joueurs</h1>
    <div id="game-columns-container" class="game-columns-container"></div>
    <div class="home-button-container">
        <a href="index.html" class="home-button">Retour à l'accueil</a>
    </div>

    <script>
        const playersData = [
            {
                name: "RSW-Lightrex",
                position: "Chef/joueur",
                games: ["Smash Bros"],
                image: "Lightrex pp.webp",
                statsLink: "stats-rsw-lightrex.html"
            },
            {
                name: "RSW-Firerex",
                position: "admin/joueur",
                games: ["Splatoon", "Fortnite"],
                image: "avatar Firerex.webp",
                statsLink: "stats-rsw-firerex.html"
            },
            {
                name: "RSW-Lespectre",
                position: "admin/joueur",
                games: ["Mario Kart"],
                image: "avatar Lespectre.webp",
                statsLink: "stats-rsw-lespectre.html"
            },
            {
                name: "RSW-Doug",
                position: "joueur",
                games: ["Mario Kart"],
                image: "pp doug.gif",
                statsLink: "RSW-Doug.html"
            },
            {
                name: "~Zββ☆MeW~",
                position: "ally",
                games: ["Mario Kart"],
                image: "Mew sous les étoiles digitales.png",
                statsLink: "ZbbMeW.html"
            },
            {
                name: "RSW-Gogita",
                position: "joueur",
                games: ["Mario Kart", "Smash Bros"],
                image: "pp Gogita.gif",
                statsLink: "RSW-Gogita.html"
            },
            {
                name: "RSW-Lino.Mk126",
                position: "joueur",
                games: ["Mario Kart"],
                image: "ppLinoMk126.png",
                statsLink: "Lino._Mk126.html"
            },
            {
                name: "RSW-Ino21",
                position: "joueur",
                games: ["Mario Kart"],
                image: "ppLinoMk1126.png",
                statsLink: "Ino.html"
            },
            {
                name: "RSW-Kach",
                position: "joueur",
                games: ["Mario Kart"],
                image: "ppKach.png",
                statsLink: "Kach.html"
            },
            {
                name: "RSW-Zambo",
                position: "joueur",
                games: ["Mario Kart"],
                image: "ppZambo.png",
                statsLink: "Zambo.html"
            }
        ];

        function createPlayerCard(player) {
            const playerCard = document.createElement('div');
            playerCard.className = 'player-card';

            const img = document.createElement('img');
            img.src = player.image;
            img.alt = player.name;
            playerCard.appendChild(img);

            const playerInfo = document.createElement('div');
            playerInfo.className = 'player-info';

            const playerName = document.createElement('h3');
            playerName.textContent = player.name;
            playerInfo.appendChild(playerName);

            const playerPosition = document.createElement('p');
            playerPosition.innerHTML = `<strong>Poste :</strong> ${player.position}`;
            playerInfo.appendChild(playerPosition);

            const playerGames = document.createElement('p');
            playerGames.innerHTML = `<strong>Jeu(x) préféré(s) :</strong> ${player.games.join(', ')}`;
            playerInfo.appendChild(playerGames);

            playerCard.appendChild(playerInfo);

            const statsLink = document.createElement('a');
            statsLink.href = player.statsLink;
            statsLink.className = 'stats-link';
            statsLink.textContent = 'Voir stats';
            playerCard.appendChild(statsLink);

            return playerCard;
        }

        function renderPlayersByGame() {
            const container = document.getElementById('game-columns-container');
            container.innerHTML = '';
            console.log('Rendering players by game...');

            const uniqueGames = new Set();
            playersData.forEach(player => {
                player.games.forEach(game => uniqueGames.add(game.trim()));
            });

            const sortedGames = Array.from(uniqueGames).sort();
            console.log('Jeux trouvés :', sortedGames);

            sortedGames.forEach(game => {
                console.log(`\n---\nCréation de la colonne pour le jeu : ${game}`);
                const gameColumn = document.createElement('div');
                gameColumn.className = 'game-column';

                const columnTitle = document.createElement('h2');
                columnTitle.textContent = game;
                gameColumn.appendChild(columnTitle);

                const playersInThisGame = playersData.filter(player =>
                    player.games.includes(game)
                );

                console.log(`Nombre de joueurs pour ${game} : ${playersInThisGame.length}`);

                if (playersInThisGame.length > 0) {
                    console.log(`Ajout du premier joueur : ${playersInThisGame[0].name}`);
                    gameColumn.appendChild(createPlayerCard(playersInThisGame[0]));

                    if (playersInThisGame.length > 1) {
                        const morePlayersContainer = document.createElement('div');
                        morePlayersContainer.classList.add('more-players-container', 'hidden');
                        morePlayersContainer.id = `more-players-${game.replace(/\s/g, '-')}`;

                        for (let i = 1; i < playersInThisGame.length; i++) {
                            console.log(`Ajout d'un joueur masqué : ${playersInThisGame[i].name}`);
                            morePlayersContainer.appendChild(createPlayerCard(playersInThisGame[i]));
                        }
                        gameColumn.appendChild(morePlayersContainer);

                        const toggleButton = document.createElement('button');
                        toggleButton.className = 'toggle-players-button';
                        toggleButton.textContent = 'Voir plus';

                        toggleButton.addEventListener('click', () => {
                            console.log(`Bouton cliqué pour ${game}`);
                            morePlayersContainer.classList.toggle('hidden');
                            toggleButton.textContent = morePlayersContainer.classList.contains('hidden')
                                ? 'Voir plus'
                                : 'Voir moins';
                        });

                        gameColumn.appendChild(toggleButton);
                    }
                } else {
                    const noPlayersText = document.createElement('p');
                    noPlayersText.textContent = 'Aucun joueur pour ce jeu.';
                    gameColumn.appendChild(noPlayersText);
                }

                container.appendChild(gameColumn);
            });

            console.log('\n✅ Rendu terminé.\n');
        }

        document.addEventListener('DOMContentLoaded', renderPlayersByGame);
    </script>
</body>
</html>





